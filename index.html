<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sihha Healthcare Chatbot</title>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef2f3;
      padding: 20px;
    }
    .app {
      max-width: 750px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .chat-box {
      border: 1px solid #ccc;
      height: 350px;
      overflow-y: auto;
      padding: 10px;
      margin-bottom: 10px;
    }
    .bot { color: #0a3d62; }
    .user { text-align: right; color: #1e3799; }
    input { width: 65%; padding: 8px; }
    button { padding: 8px 12px; margin-left: 5px; cursor: pointer; }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  </style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">

const diseases = [
  {key:"cold", en:"Common Cold â€“ Sneezing, runny nose. Rest and fluids.",
   hi:"à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯ à¤¸à¤°à¥à¤¦à¥€ â€“ à¤›à¥€à¤‚à¤•, à¤¨à¤¾à¤• à¤¬à¤¹à¤¨à¤¾à¥¤ à¤†à¤°à¤¾à¤® à¤•à¤°à¥‡à¤‚à¥¤"},
  {key:"flu", en:"Influenza â€“ Fever and body pain.",
   hi:"à¤«à¥à¤²à¥‚ â€“ à¤¬à¥à¤–à¤¾à¤° à¤”à¤° à¤¶à¤°à¥€à¤° à¤¦à¤°à¥à¤¦à¥¤"},
  {key:"covid", en:"COVID-19 â€“ Fever, cough, breathing difficulty.",
   hi:"à¤•à¥‹à¤µà¤¿à¤¡-19 â€“ à¤¬à¥à¤–à¤¾à¤°, à¤–à¤¾à¤‚à¤¸à¥€, à¤¸à¤¾à¤‚à¤¸ à¤•à¥€ à¤¸à¤®à¤¸à¥à¤¯à¤¾à¥¤"},
  {key:"hiv", en:"HIV/AIDS â€“ Weak immune system. Long-term treatment required.",
   hi:"à¤à¤šà¤†à¤ˆà¤µà¥€/à¤à¤¡à¥à¤¸ â€“ à¤•à¤®à¤œà¥‹à¤° à¤ªà¥à¤°à¤¤à¤¿à¤°à¤•à¥à¤·à¤¾ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€à¥¤"},
  {key:"hepatitis", en:"Hepatitis â€“ Liver infection.",
   hi:"à¤¹à¥‡à¤ªà¥‡à¤Ÿà¤¾à¤‡à¤Ÿà¤¿à¤¸ â€“ à¤²à¤¿à¤µà¤° à¤¸à¤‚à¤•à¥à¤°à¤®à¤£à¥¤"},
  {key:"measles", en:"Measles â€“ Fever with rash.",
   hi:"à¤–à¤¸à¤°à¤¾ â€“ à¤¬à¥à¤–à¤¾à¤° à¤”à¤° à¤¦à¤¾à¤¨à¥‡à¥¤"},
  {key:"chickenpox", en:"Chickenpox â€“ Itchy blisters.",
   hi:"à¤šà¤¿à¤•à¤¨à¤ªà¥‰à¤•à¥à¤¸ â€“ à¤–à¥à¤œà¤²à¥€ à¤µà¤¾à¤²à¥‡ à¤«à¥‹à¤¡à¤¼à¥‡à¥¤"},
  {key:"dengue", en:"Dengue â€“ High fever, joint pain.",
   hi:"à¤¡à¥‡à¤‚à¤—à¥‚ â€“ à¤¤à¥‡à¤œ à¤¬à¥à¤–à¤¾à¤°, à¤œà¥‹à¤¡à¤¼à¥‹à¤‚ à¤®à¥‡à¤‚ à¤¦à¤°à¥à¤¦à¥¤"},
  {key:"tb", en:"Tuberculosis â€“ Long-term cough.",
   hi:"à¤Ÿà¥€à¤¬à¥€ â€“ à¤²à¤‚à¤¬à¥‡ à¤¸à¤®à¤¯ à¤¤à¤• à¤–à¤¾à¤‚à¤¸à¥€à¥¤"},
  {key:"cholera", en:"Cholera â€“ Severe diarrhea.",
   hi:"à¤¹à¥ˆà¤œà¤¾ â€“ à¤—à¤‚à¤­à¥€à¤° à¤¦à¤¸à¥à¤¤à¥¤"},
  {key:"typhoid", en:"Typhoid â€“ High fever and weakness.",
   hi:"à¤Ÿà¤¾à¤‡à¤«à¤¾à¤‡à¤¡ â€“ à¤¤à¥‡à¤œ à¤¬à¥à¤–à¤¾à¤°, à¤•à¤®à¤œà¥‹à¤°à¥€à¥¤"},
  {key:"strep", en:"Strep throat â€“ Painful throat infection.",
   hi:"à¤—à¤²à¥‡ à¤•à¤¾ à¤¸à¤‚à¤•à¥à¤°à¤®à¤£à¥¤"},
  {key:"uti", en:"UTI â€“ Burning during urination.",
   hi:"à¤®à¥‚à¤¤à¥à¤° à¤¸à¤‚à¤•à¥à¤°à¤®à¤£ â€“ à¤ªà¥‡à¤¶à¤¾à¤¬ à¤®à¥‡à¤‚ à¤œà¤²à¤¨à¥¤"},
  {key:"ringworm", en:"Ringworm â€“ Fungal skin infection.",
   hi:"à¤¦à¤¾à¤¦ â€“ à¤«à¤‚à¤—à¤² à¤¸à¤‚à¤•à¥à¤°à¤®à¤£à¥¤"},
  {key:"candidiasis", en:"Candidiasis â€“ Yeast infection.",
   hi:"à¤•à¥ˆà¤‚à¤¡à¤¿à¤¡à¤¾à¤¯à¤¸à¤¿à¤¸ â€“ à¤¯à¥€à¤¸à¥à¤Ÿ à¤¸à¤‚à¤•à¥à¤°à¤®à¤£à¥¤"},
  {key:"malaria", en:"Malaria â€“ Mosquito-borne fever.",
   hi:"à¤®à¤²à¥‡à¤°à¤¿à¤¯à¤¾ â€“ à¤®à¤šà¥à¤›à¤° à¤¸à¥‡ à¤«à¥ˆà¤²à¤¤à¤¾ à¤¹à¥ˆà¥¤"},
  {key:"giardia", en:"Giardiasis â€“ Intestinal parasite.",
   hi:"à¤œà¤¿à¤¯à¤¾à¤°à¥à¤¡à¤¿à¤¯à¤¾à¤¸à¤¿à¤¸ â€“ à¤†à¤‚à¤¤ à¤¸à¤‚à¤•à¥à¤°à¤®à¤£à¥¤"},
  {key:"worms", en:"Hookworms / Pinworms â€“ Intestinal worms.",
   hi:"à¤†à¤‚à¤¤à¥‹à¤‚ à¤•à¥‡ à¤•à¥€à¤¡à¤¼à¥‡à¥¤"},
  {
    key:"asthma",
    en:"Asthma â€“ Breathing problem. Inhaler video: https://www.youtube.com/watch?v=F2bUo3q3K5w",
    hi:"à¤¦à¤®à¤¾ â€“ à¤¸à¤¾à¤‚à¤¸ à¤•à¥€ à¤¸à¤®à¤¸à¥à¤¯à¤¾à¥¤ à¤‡à¤¨à¤¹à¥‡à¤²à¤° à¤µà¥€à¤¡à¤¿à¤¯à¥‹: https://www.youtube.com/watch?v=F2bUo3q3K5w"
  },
  {
    key:"heart",
    en:"Heart Attack â€“ Chest pain. CPR video: https://www.youtube.com/watch?v=O92KL1mw77c",
    hi:"à¤¹à¤¾à¤°à¥à¤Ÿ à¤…à¤Ÿà¥ˆà¤• â€“ à¤¸à¥€à¤¨à¥‡ à¤®à¥‡à¤‚ à¤¦à¤°à¥à¤¦à¥¤ à¤¸à¥€à¤ªà¥€à¤†à¤° à¤µà¥€à¤¡à¤¿à¤¯à¥‹: https://www.youtube.com/watch?v=O92KL1mw77c"
  },
  {
    key:"pregnancy",
    en:"Pregnancy Emergency â€“ Bleeding or pain. Video: https://www.youtube.com/watch?v=K5R1d0pU6Q8",
    hi:"à¤—à¤°à¥à¤­à¤¾à¤µà¤¸à¥à¤¥à¤¾ à¤†à¤ªà¤¾à¤¤à¤•à¤¾à¤² â€“ à¤°à¤•à¥à¤¤à¤¸à¥à¤°à¤¾à¤µ à¤¯à¤¾ à¤¦à¤°à¥à¤¦à¥¤ à¤µà¥€à¤¡à¤¿à¤¯à¥‹: https://www.youtube.com/watch?v=K5R1d0pU6Q8"
  }
];

function speak(text, lang){
  const u = new SpeechSynthesisUtterance(text);
  u.lang = lang === "hi" ? "hi-IN" : "en-US";
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}

function App(){
  const [messages,setMessages] = React.useState([
    {from:"bot", text:"Hello! I am Sihha, your healthcare assistant."}
  ]);
  const [input,setInput] = React.useState("");
  const [lang,setLang] = React.useState("en");
  const recRef = React.useRef(null);

  React.useEffect(()=>{
    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
    if(!SR) return;
    const r = new SR();
    r.lang = lang === "hi" ? "hi-IN" : "en-US";
    r.onresult = function(e){
      setInput(e.results[0][0].transcript);
    };
    recRef.current = r;
  },[lang]);

  function send(){
    if(!input) return;

    setMessages(m => m.concat({from:"user", text:input}));

    const q = input.toLowerCase();
    const d = diseases.find(x => q.includes(x.key));

    const reply = d
      ? (lang === "en" ? d.en : d.hi)
      : (lang === "en"
          ? "Please consult a doctor."
          : "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¡à¥‰à¤•à¥à¤Ÿà¤° à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤");

    setMessages(m => m.concat({from:"bot", text:reply}));
    speak(reply, lang);
    setInput("");
  }

  function startMic(){
    if(recRef.current){
      recRef.current.start();
    }
  }

  return (
    <div className="app">
      <div className="header">
        <h2>Sihha Healthcare Chatbot</h2>
        <button onClick={() => setLang(lang === "en" ? "hi" : "en")}>
          {lang === "en" ? "Hindi" : "English"}
        </button>
      </div>

      <div className="chat-box">
        {messages.map((m,i) => (
          <p key={i} className={m.from}>{m.from}: {m.text}</p>
        ))}
      </div>

      <input
        value={input}
        onChange={e => setInput(e.target.value)}
        placeholder={lang === "en" ? "Type your problem" : "à¤…à¤ªà¤¨à¥€ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤²à¤¿à¤–à¥‡à¤‚"}
      />

      <button onClick={send}>Send</button>
      <button onClick={startMic}>ðŸŽ¤ Mic</button>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);

</script>
</body>
</html>
